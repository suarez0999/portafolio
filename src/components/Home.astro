---
import avatarLight from "@public/image/Avatar-Light.webp";
import avatarDark from "@public/image/Avatar-Dark.webp";
import { Image } from "astro:assets";
import Button from "@ui/Button.astro";
import LinkedInIcon from "@icons/Linkedin.astro";
import EmailIcon from "@icons/Email.astro";
import DownloadIcon from "@icons/Download.astro";
import Badge from "@ui/Badge.astro";
---

<div class="flex flex-col sm:flex-row gap-8 p-6 sm:p-12">
  <!-- Contenedor del texto -->
  <div class="max-w-xl sm:text-left animate-fade-in">
    <div class="flex gap-4 mb-4 items-center">
      <!-- Avatar pequeño visible solo en móvil/tablet según tema -->
      <Image
        class="rounded-full shadow-lg size-16 block md:block lg:hidden dark:hidden"
        src={avatarLight}
        alt="Avatar small light mode"
        loading="eager"
        title="Avatar small light mode"
      />

      <Image
        class="rounded-full shadow-lg size-16 block md:block lg:hidden hidden dark:block"
        src={avatarDark}
        alt="Avatar small dark mode"
        loading="eager"
        title="Avatar small dark mode"
      />

      <a
        href="https://www.linkedin.com/in/diego-suarez-desarrollador/"
        target="_blank"
        rel="noopener"
        title="LinkedIn Profile of Diego Suarez"
        class="flex items-center transition md:justify-center md:hover:scale-105"
      >
        <Badge>Disponible para trabajar</Badge>
      </a>
    </div>
    <h1
      class="text-4xl font-bold tracking-tight text-gray-800 sm:text-5xl dark:text-white"
    >
      Hey, soy Diego Suarez
    </h1>
    <p class="mt-6 text-lg leading-relaxed text-gray-700 dark:text-gray-300">
      Desarrollador Full Stack apasionado por crear <strong
        class="text-yellow-500 dark:text-yellow-200 font-semibold"
      >
        experiencias digitales</strong
      > excepcionales. Especializado en tecnologías modernas y soluciones escalables.
    </p>
    <!-- Botones de navegación -->
    <nav class="flex flex-wrap sm:justify-start gap-4 mt-8">
      <Button
        href="mailto:suarezdiego4567@gmail.com"
        rel="noopener noreferrer"
        aria-label="Enviar un correo a Diego Suarez"
      >
        <EmailIcon class="w-5 h-5" /> Contáctame
      </Button>
      <Button
        href="https://www.linkedin.com/in/diego-suarez-desarrollador/"
        rel="noopener noreferrer"
        aria-label="Perfil de LinkedIn de Diego Suarez"
      >
        <LinkedInIcon class="w-5 h-5" /> LinkedIn
      </Button>
      <Button
        href="/Curriculum Simple Para Software.pdf"
        download="CV-Diego-Suarez"
        rel="noopener noreferrer"
        aria-label="Descargar CV Diego Suarez"
      >
        <DownloadIcon class="w-5 h-5" /> Descargar CV
      </Button>
    </nav>
  </div>

  <!-- Contenedor de la imagen con Skeleton Loader -->
  <div
    class="relative w-full max-w-sm sm:max-w-md lg:max-w-lg animate-slide-in"
  >
    <div
      id="skeleton-loader"
      class="absolute inset-0 flex items-center justify-center rounded-lg bg-gray-300 dark:bg-gray-700 animate-pulse"
    >
      Cargando...
    </div>
    <div id="image-wrapper" class="hidden sm:block">
      <Image
        class="rounded-full shadow-lg transition-transform duration-300 ease-in-out hover:scale-105 hidden lg:block dark:hidden"
        src={avatarLight}
        alt="Avatar big light mode"
        title="Avatar big light mode"
        width={600}
        height={600}
        loading="eager"
      />
      <Image
        class="rounded-full shadow-lg transition-transform duration-300 ease-in-out hover:scale-105 hidden lg:dark:block"
        src={avatarDark}
        alt="Avatar big dark mode"
        title="Avatar big dark mode"
        width={600}
        height={600}
        loading="eager"
      />
    </div>
  </div>

  <!-- JavaScript optimizado -->
  <script is:inline>
    window.addEventListener("load", () => {
      const skeletonLoader = document.getElementById("skeleton-loader");
      const imageWrapper = document.getElementById("image-wrapper");
      if (skeletonLoader) skeletonLoader.classList.add("hidden");
      if (imageWrapper) imageWrapper.classList.remove("hidden");
    });
  </script>
</div>

<style>
  /* Animaciones */
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes slide-in {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  .animate-fade-in {
    animation: fade-in 1s ease-in-out;
  }
  .animate-slide-in {
    animation: slide-in 1s ease-in-out;
  }
</style>
